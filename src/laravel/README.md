# Laravel

LaravelとはPHPのMVCフレームワークである．

## フレームワークとは

フレームワークとは．．．

- ある言語で作るシステムの枠組み．考え方．
- よく使う関数やクラスが用意されている．
- 規則が決まっているので，誰が書いても似たコードになる．


### メリットとデメリット

- ✅	組み込まれている機能があるので実装の負荷が少ない．
- ✅	コードの品質担保による保守管理の負荷低減．
- ✅	セキュリティ面での担保．
- 🔼	学習コスト．
- 🔼	環境構築．

### 各言語のフレームワークの例

|言語|フレームワーク|
|-|-|
|PHP|Laravel, CakePHP, Symphony|
|Ruby|Ruby on Rails|
|Python|Django, Flask|
|Node.js|Express, NestJS|
|JavaScript|Next.js, Gatsby.js, Nuxt.js|

※あくまで一例，他にもたくさんあります．．！

### Laravelの特徴

- 今最もアツいPHPフレームワーク！
- Webサービスで使用する機能が豊富に用意されている．
    - DB操作関連の機能（論理削除など）
    - メール通知機能
- 画面を柔軟に作成できるbladeテンプレート．
- `artisan`コマンドによる手軽なライブラリ操作．
- とにかく自由（ディレクトリ構成，処理の記述場所など）

## MVCとは

**MVCとは，役割分担の概念であるッ！**

これまでは適当なPHPファイルに処理を全部書いていた！

- ファイル数が増える．．．
- あの処理，どのファイルに書いたっけ．．？？
- バグあったけど次の処理が他の人の書いたファイルに．．．（チーム開発）

=> いずれ詰む未来が見える．．．

=> せや，処理毎に別々のところに書いて管理や分類をしやすくしたろ！MVCの3つくらいでええやろ！

### 役割分担

|name|役割|
|-|-|
|Model|データの操作を行う役割．<br>データの「作成」「参照」「更新」「削除」し，その結果を出力．|
|View|ブラウザの表示領域を作成する役割．<br>受け取ったデータ処理の結果をhtmlに埋め込み，出力する．|
|Controller|リクエストとレスポンスを行う．その間のことをいい感じにやる．<br>ModelとViewに司令を出す，処理の流れを決める役割．|
|Route|アクセスされたURLに応じて処理を振り分ける．URLとControllerの関数の対応を決める．<br>実際の処理はControllerを通じてModelやViewが実行する．|

### 処理のイメージ

MVCでは処理によって役割分担されているため，「処理の順番」と「データ流れ」を把握することが理解への近道である．

例として，DBから取り出したデータを一覧画面に表示する流れを考えてみる．

### リクエストからの処理の流れ

リクエスト -> Route -> Controllerの順で処理が実行される．

![MVCの流れ1](./img/laravel_mvc_01.svg)

### DBから取り出したデータの流れ

Model -> Controller -> Viewの順で処理が実行される．


![MVCの流れ2](./img/laravel_mvc_02.svg)

## コツ

### 習うより慣れろッ！

- 初見で理解することは不可能！
    - まずはアプリケーションを作って動かそう！
    - 処理を見ながら，どこでどの処理を行っているのかを考えよう！
- MVC間でのデータの流れを追えるようになるとGood！！
- 慣れゲー & 周回ゲー！
    - 何度も作ることで処理のイメージが湧き，余裕が生まれる．
    - 「そういえば前回もこの処理書いたな」でOK．
    - 10周くらいするとだいぶわかる！

### 余計なことをせずにフレームワークに従う

**フレームワーク > 越えられない壁 >>> 人間**

- フレームワークは人類の叡智！
- 素人が安易に改造すると台無し．
- 細かい設定などは弄らない！
- 自分で実装せずにフレームワークに用意された機能を使え！
- ゴリ押しで書くな！（よくある処理はドキュメントに載ってる）

<!-- ## Get Started!!!

**【超重要】下記の手順でAWS Educateアカウントにログイン**

1. [https://aws.amazon.com/jp/education/awseducate/](https://aws.amazon.com/jp/education/awseducate/)にアクセス
2. 「AWS Educate にサインイン」をクリック
3. ページ上段 「My Classroom」をクリック
4. 今回のクラスに入る -> AWS console
5. 今後作業途中で再度ログインが必要になっても上記手順でログイン！ -->
